<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>تفاصيل الحرفي - حرفي</title>
    <link rel="stylesheet" href="../css/Professional.css">
</head>
<body>
    <header class="main-header">
        <div class="container2">
            <div class="logo">
                <a href="home.html">شعار الموقع</a>
            </div>
            <nav>
                <ul class="navbar">
                    <li><a href="Home Page.html">الرئيسية</a></li>
                    <li><a href="serch.html">البحث عن حرفي</a></li>
                    <li><a href="Booking Page.html">حجز خدمة</a></li>
                    <li><a href="Reviews Page.html">التقييمات</a></li>
                    <li><a href="Support Page.html">الدعم</a></li>
                    <li><a href="Professional.html">الحساب الشخصي</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main class="details-section">
        <div class="container">
            <div class="profile-header">
                <img src="../images/professional.jpg" alt="صورة الحرفي" class="profile-img">
                <div class="profile-info">
                    <h1>اسم الحرفي</h1>
                    <p>تخصص: <span>السباكة</span></p>
                    <p>منطقة: <span>بنها</span></p>
                    <p>تقييم: <span>4.5/5</span></p>
                    <a href="Booking Page.html"><button  class="btn-primary" >حجز موعد</button></a>
                    <button id="contact-btn" class="btn-secondary">تواصل مباشرة</button>
                    <button id="logout-btn" class="btn-logout">تسجيل الخروج</button>
                </div>
            </div>
            <!-- النافذة المنبثقة -->
<div id="popup" class="popup">
    <div class="popup-content">
        <span id="close-popup" class="close-popup">&times;</span>
        <h2>مرحباً!</h2>
        <p>شكراً لتواصلك معنا.</p>
        <p>رقم الهاتف: 123-456-7890</p>
    </div>
</div>

<section class="services-section">
    <h2>الخدمات المقدمة</h2>
    <ul id="services-list">
        <li>إصلاح الأنابيب</li>
        <li>تركيب السخانات</li>
        <li>صيانة دورية للحمامات</li>
        <li>الكشف عن تسريبات المياه</li>
    </ul>

    <h3>أضف خدمة جديدة</h3>
    <form id="add-service-form" action="../php/db_insert_service_Prof.php" method="post">
        <label for="service-name">اسم الخدمة:</label>
        <input type="text" id="service-name" name="service-name" required>
        <button type="submit">أضف الخدمة</button>
    </form>
</section>

            <section class="bookings-section">
                <h2>قائمة الأشخاص الذين طلبوا الحجز</h2>
                <ul>
                    <li>أحمد السيد - تاريخ الحجز: 15 أغسطس 2024 - رقم الهاتف: 0100-123-4567</li>
                    <li>خالد محمود - تاريخ الحجز: 20 أغسطس 2024 - رقم الهاتف: 0100-234-5678</li>
        <li>منى علي - تاريخ الحجز: 22 أغسطس 2024 - رقم الهاتف: 0100-345-6789</li>
        <li>سارة إبراهيم - تاريخ الحجز: 24 أغسطس 2024 - رقم الهاتف: 0100-456-7890</li>
                    <!-- يمكن إضافة المزيد من الحجز -->
                </ul>
            </section>

            <section class="reviews-section">
                <h2>آراء وتقييمات العملاء</h2>
                <div class="review">
                    <p><strong>محمد عبد الله:</strong> "خدمة ممتازة وسريعة، أوصي به بشدة!"</p>
                    <span class="rating">★★★★★</span>
                </div>
                <div class="review">
                    <p><strong>فاطمة الزهراء:</strong> "حرفي محترف ويقدم عمل عالي الجودة."</p>
                    <span class="rating">★★★★☆</span>
                </div>
                <!-- المزيد من الآراء والتقييمات -->
            </section>
        </div>
    </main>

    <footer class="main-footer">
        <div class="container">
            <p>&copy; 2024 جميع الحقوق محفوظة. تصميم وتطوير بواسطة فريقنا.</p>
        </div>
    </footer>
</body>
<script>

    // إضافة حدث لزر تسجيل الخروج
document.getElementById('logout-btn').addEventListener('click', function() {
    // تنفيذ عملية تسجيل الخروج، مثل حذف بيانات المستخدم من localStorage أو تنفيذ طلب تسجيل الخروج
    localStorage.removeItem('isProfessional'); // على سبيل المثال
    window.location.href = 'Login Page.html'; // إعادة التوجيه إلى صفحة تسجيل الدخول
});

    // الحصول على العناصر
const contactBtn = document.getElementById('contact-btn');
const popup = document.getElementById('popup');
const closePopup = document.getElementById('close-popup');

// عرض النافذة المنبثقة عند الضغط على الزر
contactBtn.addEventListener('click', function() {
    popup.style.display = 'flex';
});

// إخفاء النافذة المنبثقة عند الضغط على علامة الإغلاق
closePopup.addEventListener('click', function() {
    popup.style.display = 'none';
});

// إخفاء النافذة المنبثقة عند الضغط خارجها
window.addEventListener('click', function(event) {
    if (event.target === popup) {
        popup.style.display = 'none';
    }
});
// -----------------------------------------------------
// افترض أن لدينا مفتاحًا في localStorage يحدد ما إذا كان المستخدم هو الحرفي
    const isProfessional = localStorage.getItem('isProfessional');

    // الحصول على عنصر القسم
    const bookingsSection = document.getElementById('bookings-section');

    // إذا كان المستخدم هو الحرفي، قم بعرض القسم
    if (isProfessional === 'true') {
        bookingsSection.style.display = 'block';
    }

</script>
<script>
    // جلب البيانات من الملف PHP
    fetch('../php/select_Professional.php')
        .then(response => response.json())
        .then(data => {
            // عرض البيانات على الصفحة
            document.querySelector('.profile-img').src = data.profile.photo;
            document.querySelector('.profile-info h1').textContent = data.profile.name;
            document.querySelector('.profile-info span').textContent = data.profile.specialization;
            document.querySelector('.profile-info p span').textContent = data.profile.location;
            document.querySelector('.profile-info p span').textContent = data.average_rating + '/5';

            // إضافة الخدمات إلى القائمة
            const servicesList = document.getElementById('services-list');
            data.services.forEach(service => {
                const li = document.createElement('li');
                li.textContent = service.name;
                servicesList.appendChild(li);
            });

            // إضافة الحجوزات إلى القائمة
            const bookingsList = document.querySelector('.bookings-section ul');
            data.bookings.forEach(booking => {
                const li = document.createElement('li');
                li.textContent = `${booking.name} - تاريخ الحجز: ${booking.date} - رقم الهاتف: ${booking.phone}`;
                bookingsList.appendChild(li);
            });

            // إضافة التقييمات إلى القسم
            const reviewsSection = document.querySelector('.reviews-section');
            data.reviews.forEach(review => {
                const div = document.createElement('div');
                div.classList.add('review');
                div.innerHTML = `
                    <p><strong>${review.name}:</strong> "${review.comment}"</p>
                    <span class="rating">${'★'.repeat(review.rating) + '☆'.repeat(5 - review.rating)}</span>
                `;
                reviewsSection.appendChild(div);
            });
        })
        .catch(error => console.error('حدث خطأ:', error));
</script>

</html>
